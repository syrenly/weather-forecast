import{E as le,a as T,b as m,c as D,d as l,e as I,f as p,g as s,r as ae,s as h,t as E,v as se,x as b,z as de}from"./chunk-2Z5K3L6B.js";import{b as X,c as M,e as Q,l as ie,r as ce}from"./chunk-W2DOXOSE.js";import{a as R,b as $,d as Z}from"./chunk-LTMBXPOI.js";import{a as J,d as S,g as ee,h as N,i as te,j as re,k as oe,l as ne}from"./chunk-VKFORHL6.js";import"./chunk-W3VP2FYN.js";import{$ as y,$a as _,A as w,Ca as u,Db as Y,Eb as H,Fb as G,Gb as q,R as O,U as P,Wa as v,X as f,Ya as A,_ as j,_b as K,aa as i,ab as z,ba as x,cb as L,hb as B,ja as k,ka as g,la as U,m as c,qa as W,rb as V,v as C}from"./chunk-BSZRAIH5.js";var me=T("animateRoute",[I("homeState => forecastState",[l({position:"relative"}),s(":enter, :leave",[l({position:"absolute",top:0,left:0,width:"100%"})]),s(":enter",[l({left:"100%",opacity:0})]),s(":leave",p()),D([s(":leave",[m("1s ease-out",l({left:"-100%",opacity:0}))]),s(":enter",[m("1s ease-out",l({left:"0%",opacity:1}))])]),s(":enter",p())]),I("forecastState => homeState",[l({position:"relative"}),s(":enter, :leave",[l({position:"absolute",top:0,right:0,width:"100%"})]),s(":enter",[l({right:"100%",opacity:0})]),s(":leave",p()),D([s(":leave",[m("1s ease-out",l({right:"-100%",opacity:0}))]),s(":enter",[m("1s ease-out",l({right:"0%",opacity:1}))])]),s(":enter",p())])]);var ue=(()=>{let e=class e{constructor(){this.themeSubject=i(re),this.renderer=i(z),this.destroyRef=i(U)}ngOnInit(){this.themeSubject.pipe(J(this.destroyRef)).subscribe(o=>this.applyTheme(o))}applyTheme(o){let r=document.querySelector("body");r?.classList&&(this.renderer.removeClass(r,S("light")),this.renderer.removeClass(r,S("dark")),this.renderer.addClass(r,S(o)))}getRouteTransition(o){let{activatedRouteData:{animationState:r="static"}}=o;return r}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=B({type:e,selectors:[["app-root"]],decls:3,vars:1,consts:[["outlet","outlet"]],template:function(r,a){if(r&1&&(H(0,"div"),q(1,"router-outlet",null,0),G()),r&2){let d=K(2);Y("@animateRoute",a.getRouteTransition(d))}},dependencies:[X],styles:["div[_ngcontent-%COMP%]{height:100%;width:100%;background-color:inherit}"],data:{animation:[me]}});let n=e;return n})();var Se=(()=>{class n extends b{constructor(t,o,r){super(t,o,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(o){return new(o||n)(y(g),y(h),y(E))};static \u0275prov=f({token:n,factory:n.\u0275fac})}return n})();function De(){return new se}function Ie(n,e,t){return new le(n,e,t)}var he=[{provide:E,useFactory:De},{provide:b,useClass:Se},{provide:_,useFactory:Ie,deps:[R,b,A]}],dt=[{provide:h,useClass:ae},{provide:u,useValue:"NoopAnimations"},...he],Ne=[{provide:h,useFactory:()=>new de},{provide:u,useFactory:()=>"BrowserAnimations"},...he];function fe(){return v("NgEagerAnimations"),[...Ne]}var Ee="@",be=(()=>{class n{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=i(k);loadingSchedulerFn=i(Te,{optional:!0});_engine;constructor(t,o,r,a,d){this.doc=t,this.delegate=o,this.zone=r,this.animationType=a,this.moduleImpl=d}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-BCKCQIGS.js").then(r=>r),o;return this.loadingSchedulerFn?o=this.loadingSchedulerFn(t):o=t(),o.catch(r=>{throw new P(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:a})=>{this._engine=r(this.animationType,this.doc);let d=new a(this.delegate,this._engine,this.zone);return this.delegate=d,d})}createRenderer(t,o){let r=this.delegate.createRenderer(t,o);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let a=new F(r);return o?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(d=>{let Me=d.createRenderer(t,o);a.use(Me),this.scheduler??=this.injector.get(W,null,{optional:!0}),this.scheduler?.notify(10)}).catch(d=>{a.use(r)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(t){this._engine?.flush(),this.delegate.componentReplaced?.(t)}static \u0275fac=function(o){L()};static \u0275prov=f({token:n,factory:n.\u0275fac})}return n})(),F=class{delegate;replay=[];\u0275type=1;constructor(e){this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,o,r){this.delegate.insertBefore(e,t,o,r)}removeChild(e,t,o,r){this.delegate.removeChild(e,t,o,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,o,r){this.delegate.setAttribute(e,t,o,r)}removeAttribute(e,t,o){this.delegate.removeAttribute(e,t,o)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,o,r){this.delegate.setStyle(e,t,o,r)}removeStyle(e,t,o){this.delegate.removeStyle(e,t,o)}setProperty(e,t,o){this.shouldReplay(t)&&this.replay.push(r=>r.setProperty(e,t,o)),this.delegate.setProperty(e,t,o)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,o,r){return this.shouldReplay(t)&&this.replay.push(a=>a.listen(e,t,o,r)),this.delegate.listen(e,t,o,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(Ee)}},Te=new j("");function ye(n="animations"){return v("NgAsyncAnimations"),x([{provide:_,useFactory:(e,t,o)=>new be(e,t,o,n),deps:[g,R,A]},{provide:u,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ge={OpenWeatherApiKey:"a887e2b52a1968bcb7a89c34ca00d547"};var ve=n=>{let e;try{if(e=+(n.paramMap.get("id")||""),!e)throw Error("Id not found or not valid")}catch(d){return console.debug("[city_resolver_error]",d),c({errorStatus:ee.NotFound})}let t=i(ce),r=i(M).getCurrentNavigation()?.extras?.state,a=r?.id===e?c(r):t.getCityWeather(e);return t.navigationStarted=!0,C({countryInfo:a,forecastResult:t.getFiveDaysForecast(e)}).pipe(w(d=>c({errorStatus:d.status})))};var Ae=(n,e)=>i(N).pipe(O(o=>{let r=!!o;return r||i(M).navigate(["home"]),c(r)}));var _e=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-I6SXW2RJ.js"),data:{animationState:"homeState"}},{path:"forecast/:id",loadComponent:()=>import("./chunk-QXTWTKT2.js"),data:{animationState:"forecastState"},canActivate:[Ae],resolve:[ve]},{path:"**",redirectTo:"home"}];var Re={providers:[Q(_e),fe(),Z(),oe(),te(),V(()=>ne(i(N),ge)()),{provide:ie,useValue:{appearance:"outline"}},ye()]};$(ue,Re).catch(n=>console.error(n));
