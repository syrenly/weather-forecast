import{E as le,a as T,b as m,c as D,d as l,e as I,f as p,g as s,r as ae,s as h,t as E,v as se,x as b,z as de}from"./chunk-DMZJIU4E.js";import{b as X,c as M,e as Q,l as ie,r as ce}from"./chunk-2WGRPOIF.js";import{a as R,b as $,d as Z}from"./chunk-Q6GTNFDE.js";import{a as J,d as S,g as ee,h as N,i as te,j as re,k as oe,l as ne}from"./chunk-VI5MO46R.js";import"./chunk-4KZH3CJE.js";import{$ as i,A as w,Ab as Y,Ba as u,Bb as H,Cb as G,Db as q,R as O,U as P,Ua as v,Va as z,W as f,Xa as L,Xb as K,Z as j,Za as A,_ as y,aa as x,bb as B,ia as k,ja as g,ka as U,kb as _,m as c,pa as W,pb as V,v as C}from"./chunk-IZ2TDBGB.js";var me=T("animateRoute",[I("homeState => forecastState",[l({position:"relative"}),s(":enter, :leave",[l({position:"absolute",top:0,left:0,width:"100%"})]),s(":enter",[l({left:"100%",opacity:0})]),s(":leave",p()),D([s(":leave",[m("1s ease-out",l({left:"-100%",opacity:0}))]),s(":enter",[m("1s ease-out",l({left:"0%",opacity:1}))])]),s(":enter",p())]),I("forecastState => homeState",[l({position:"relative"}),s(":enter, :leave",[l({position:"absolute",top:0,right:0,width:"100%"})]),s(":enter",[l({right:"100%",opacity:0})]),s(":leave",p()),D([s(":leave",[m("1s ease-out",l({right:"-100%",opacity:0}))]),s(":enter",[m("1s ease-out",l({right:"0%",opacity:1}))])]),s(":enter",p())])]);var ue=(()=>{let e=class e{constructor(){this.themeSubject=i(re),this.renderer=i(z),this.destroyRef=i(U)}ngOnInit(){this.themeSubject.pipe(J(this.destroyRef)).subscribe(r=>this.applyTheme(r))}applyTheme(r){let o=document.querySelector("body");o?.classList&&(this.renderer.removeClass(o,S("light")),this.renderer.removeClass(o,S("dark")),this.renderer.addClass(o,S(r)))}getRouteTransition(r){let{activatedRouteData:{animationState:o="static"}}=r;return o}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=B({type:e,selectors:[["app-root"]],decls:3,vars:1,consts:[["outlet","outlet"]],template:function(o,a){if(o&1&&(H(0,"div"),q(1,"router-outlet",null,0),G()),o&2){let d=K(2);Y("@animateRoute",a.getRouteTransition(d))}},dependencies:[X],styles:["div[_ngcontent-%COMP%]{height:100%;width:100%;background-color:inherit}"],data:{animation:[me]}});let n=e;return n})();var Se=(()=>{class n extends b{constructor(t,r,o){super(t,r,o)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(y(g),y(h),y(E))};static \u0275prov=f({token:n,factory:n.\u0275fac})}return n})();function De(){return new se}function Ie(n,e,t){return new le(n,e,t)}var he=[{provide:E,useFactory:De},{provide:b,useClass:Se},{provide:v,useFactory:Ie,deps:[R,b,_]}],dt=[{provide:h,useClass:ae},{provide:u,useValue:"NoopAnimations"},...he],Ne=[{provide:h,useFactory:()=>new de},{provide:u,useFactory:()=>"BrowserAnimations"},...he];function fe(){return A("NgEagerAnimations"),[...Ne]}var Ee="@",be=(()=>{class n{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=i(k);loadingSchedulerFn=i(Te,{optional:!0});_engine;constructor(t,r,o,a,d){this.doc=t,this.delegate=r,this.zone=o,this.animationType=a,this.moduleImpl=d}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-L7L35EP4.js").then(o=>o),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(t):r=t(),r.catch(o=>{throw new P(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:a})=>{this._engine=o(this.animationType,this.doc);let d=new a(this.delegate,this._engine,this.zone);return this.delegate=d,d})}createRenderer(t,r){let o=this.delegate.createRenderer(t,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let a=new F(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(d=>{let Me=d.createRenderer(t,r);a.use(Me),this.scheduler??=this.injector.get(W,null,{optional:!0}),this.scheduler?.notify(10)}).catch(d=>{a.use(o)}),a}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(t){this._engine?.flush(),this.delegate.componentReplaced?.(t)}static \u0275fac=function(r){L()};static \u0275prov=f({token:n,factory:n.\u0275fac})}return n})(),F=class{delegate;replay=[];\u0275type=1;constructor(e){this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,r,o){this.delegate.insertBefore(e,t,r,o)}removeChild(e,t,r){this.delegate.removeChild(e,t,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,o){this.delegate.setAttribute(e,t,r,o)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,o){this.delegate.setStyle(e,t,r,o)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){this.shouldReplay(t)&&this.replay.push(o=>o.setProperty(e,t,r)),this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,o){return this.shouldReplay(t)&&this.replay.push(a=>a.listen(e,t,r,o)),this.delegate.listen(e,t,r,o)}shouldReplay(e){return this.replay!==null&&e.startsWith(Ee)}},Te=new j("");function ye(n="animations"){return A("NgAsyncAnimations"),x([{provide:v,useFactory:(e,t,r)=>new be(e,t,r,n),deps:[g,R,_]},{provide:u,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ge={OpenWeatherApiKey:"a887e2b52a1968bcb7a89c34ca00d547"};var ve=n=>{let e;try{if(e=+(n.paramMap.get("id")||""),!e)throw Error("Id not found or not valid")}catch(d){return console.debug("[city_resolver_error]",d),c({errorStatus:ee.NotFound})}let t=i(ce),o=i(M).getCurrentNavigation()?.extras?.state,a=o?.id===e?c(o):t.getCityWeather(e);return t.navigationStarted=!0,C({countryInfo:a,forecastResult:t.getFiveDaysForecast(e)}).pipe(w(d=>c({errorStatus:d.status})))};var Ae=(n,e)=>i(N).pipe(O(r=>{let o=!!r;return o||i(M).navigate(["home"]),c(o)}));var _e=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-3B4VBCZV.js"),data:{animationState:"homeState"}},{path:"forecast/:id",loadComponent:()=>import("./chunk-YTBSBAYW.js"),data:{animationState:"forecastState"},canActivate:[Ae],resolve:[ve]},{path:"**",redirectTo:"home"}];var Re={providers:[Q(_e),fe(),Z(),oe(),te(),V(()=>ne(i(N),ge)()),{provide:ie,useValue:{appearance:"outline"}},ye()]};$(ue,Re).catch(n=>console.error(n));
